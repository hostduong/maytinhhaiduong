/* ==============================================================
   HỆ THỐNG GIAO DIỆN CHUẨN (MASTER UI) - 99K.VN
   ============================================================== */

/* 1. INPUT FORM CHUYÊN NGHIỆP (PREMIUM INPUT) */
.input-premium { width: 100%; box-sizing: border-box; background-color: #f8fafc; border: 1px solid #e2e8f0; border-radius: 0.75rem; font-size: 0.9rem; padding: 0.75rem 1rem; transition: 0.2s; outline: none; }
.input-premium:focus { border-color: #9333ea; box-shadow: 0 0 0 3px rgba(147,51,234,0.1); background-color: #fff; }
.input-premium:disabled, .input-premium[readonly] { cursor: not-allowed; opacity: 0.7; background-color: #f1f5f9; }
label.form-lbl { font-size: 0.65rem; font-weight: 800; color: #64748b; text-transform: uppercase; margin-bottom: 0.4rem; display: block; letter-spacing: 0.05em; }

/* 2. FIX FULL CHIỀU RỘNG CHO INTL-TEL-INPUT (SĐT) */
.iti { width: 100%; } 

/* 3. TÙY CHỈNH THANH CUỘN CHUNG (SCROLLBAR) */
.custom-scroll::-webkit-scrollbar { width: 6px; height: 6px; }
.custom-scroll::-webkit-scrollbar-track { background: transparent; }
.custom-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
.custom-scroll::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

/* 4. THANH CUỘN NGANG XỊN XÒ CHO BẢNG DỮ LIỆU */
.table-scroll { overflow-x: auto; -webkit-overflow-scrolling: touch; padding-bottom: 8px; }
.table-scroll::-webkit-scrollbar { height: 10px; }
.table-scroll::-webkit-scrollbar-track { background: transparent; border-radius: 8px; margin: 0 10px; }
.table-scroll::-webkit-scrollbar-thumb { background-color: #d8b4fe; border-radius: 8px; border: 2px solid #ffffff; }
.table-scroll::-webkit-scrollbar-thumb:hover { background-color: #a855f7; }

/* 5. HIỆU ỨNG VIỀN LED CHẠY ANIMATION (PRO MAX) */
@keyframes spin-slow { 100% { transform: rotate(360deg); } }
.animated-border-wrapper {
    position: relative;
    border-radius: 1.5rem; /* Bo góc 24px */
    padding: 2px; /* Độ dày của viền sáng */
    overflow: hidden;
    background: #f1f5f9;
}
.animated-border-wrapper::before {
    content: '';
    position: absolute;
    top: -50%; left: -50%; width: 200%; height: 200%;
    /* Dải màu xoay: Trong suốt kết hợp Tím & Indigo */
    background: conic-gradient(transparent, transparent, transparent, #9333ea, #6366f1, transparent);
    animation: spin-slow 4s linear infinite;
    z-index: 0;
}
.animated-border-inner {
    position: relative;
    background: #ffffff;
    border-radius: calc(1.5rem - 2px);
    z-index: 1;
    height: 100%;
    overflow: hidden;
}

/* 6. HIỆU ỨNG HOVER DÒNG TRONG BẢNG (SOFT ROW) */
.hover-soft-row { transition: all 0.2s ease; }
.hover-soft-row:hover td {
    background-color: #f3e8ff !important; 
    border-color: #f3e8ff !important; 
}

/* 7. HIỆU ỨNG VIỀN LED CẢNH BÁO (WARNING/NOTICE BOX) */
.animated-warning-wrapper {
    position: relative;
    border-radius: 1.25rem; /* Bo góc 20px gọn gàng hơn */
    padding: 2px;
    overflow: hidden;
    background: #fffbeb; /* Nền dự phòng màu vàng nhạt */
}
.animated-warning-wrapper::before {
    content: '';
    position: absolute;
    top: -50%; left: -50%; width: 200%; height: 200%;
    /* Dải LED xoay: Trong suốt kết hợp Vàng Amber & Cam đậm */
    background: conic-gradient(transparent, transparent, transparent, #f59e0b, #ea580c, transparent);
    animation: spin-slow 3s linear infinite; /* Chạy nhanh hơn viền Tím 1 chút để thu hút sự chú ý */
    z-index: 0;
}
.animated-warning-inner {
    position: relative;
    background: #ffffff;
    border-radius: calc(1.25rem - 2px);
    z-index: 1;
    height: 100%;
    overflow: hidden;
}

/* ==============================================================
   8. SWEETALERT PREMIUM (POPUP VIỀN LED CHẠY)
   ============================================================== */
.swal-animated-purple {
    position: relative !important;
    border-radius: 1.5rem !important; /* Bo góc 24px */
    padding: 0 !important; /* Xóa padding mặc định để làm viền */
    overflow: hidden !important;
    background: transparent !important;
}
/* Tạo dải LED xoay */
.swal-animated-purple::before {
    content: '';
    position: absolute;
    top: -50%; left: -50%; width: 200%; height: 200%;
    background: conic-gradient(transparent, transparent, transparent, #9333ea, #6366f1, transparent);
    animation: spin-slow 4s linear infinite;
    z-index: -2;
    pointer-events: none;
}
/* Tạo nền trắng bên trong, cách viền 2px */
.swal-animated-purple::after {
    content: '';
    position: absolute;
    top: 2px; left: 2px; right: 2px; bottom: 2px;
    background: #ffffff;
    border-radius: calc(1.5rem - 2px);
    z-index: -1;
    pointer-events: none;
}
/* Phục hồi khoảng cách (Padding) cho nội dung bên trong */
.swal-animated-purple > * { position: relative; z-index: 1; }
.swal-animated-purple .swal2-title { padding-top: 2.5rem !important; margin: 0 !important; }
.swal-animated-purple .swal2-html-container { padding: 1.5rem 2rem !important; margin: 0 !important; overflow: visible !important; }
.swal-animated-purple .swal2-actions { padding-bottom: 2.5rem !important; margin-top: 0 !important; }

/* ==============================================================
   9. MA TRẬN GIAO DIỆN 10x10 (NỀN NHẠT TÔN VIỀN LED)
   ============================================================== */
.badge-animated-wrap { position: relative; display: inline-flex; border-radius: 0.5rem; overflow: hidden; z-index: 1; margin-top: 6px; margin-right: 6px; }
.badge-animated-wrap::before { content: ''; position: absolute; top: -100%; left: -100%; width: 300%; height: 300%; animation: spin-slow 3.5s linear infinite; z-index: -1; }
.badge-inner { position: relative; z-index: 2; padding: 0.35rem 0.85rem; font-size: 0.65rem; font-weight: 900; text-transform: uppercase; letter-spacing: 0.1em; white-space: nowrap; width: 100%; height: 100%; }

/* ĐỘ DÀY VIỀN & ĐƯỜNG RAY THEO TIER */
.tier-s, .tier-a { padding: 1.5px; background-color: #e2e8f0; } /* Viền dày 1.5px */
.tier-s .badge-inner, .tier-a .badge-inner { border-radius: calc(0.5rem - 1.5px); }
.tier-s::before { opacity: 1; filter: drop-shadow(0 0 4px rgba(255,255,255,0.8)); } 
.tier-a::before { opacity: 0.8; }

.tier-b, .tier-c { padding: 1px; background-color: #f1f5f9; } /* Viền mỏng 1px */
.tier-b .badge-inner, .tier-c .badge-inner { border-radius: calc(0.5rem - 1px); }
.tier-b::before { opacity: 0.6; }
.tier-c::before { opacity: 0.4; }

/* HỆ THỐNG MÀU TIA SÁNG LED (Đậm rực rỡ) */
.badge-animated-wrap.theme-0::before { background: conic-gradient(transparent, transparent, transparent, #475569, #cbd5e1, transparent); }
.badge-animated-wrap.theme-1::before { background: conic-gradient(transparent, transparent, transparent, #2563eb, #60a5fa, transparent); }
.badge-animated-wrap.theme-2::before { background: conic-gradient(transparent, transparent, transparent, #059669, #34d399, transparent); }
.badge-animated-wrap.theme-3::before { background: conic-gradient(transparent, transparent, transparent, #ea580c, #fb923c, transparent); }
.badge-animated-wrap.theme-4::before { background: conic-gradient(transparent, transparent, transparent, #e11d48, #fb7185, transparent); }
.badge-animated-wrap.theme-5::before { background: conic-gradient(transparent, transparent, transparent, #9333ea, #d8b4fe, transparent); }
.badge-animated-wrap.theme-6::before { background: conic-gradient(transparent, transparent, transparent, #d97706, #fcd34d, transparent); }
.badge-animated-wrap.theme-7::before { background: conic-gradient(transparent, transparent, transparent, #0891b2, #67e8f9, transparent); }
.badge-animated-wrap.theme-8::before { background: conic-gradient(transparent, transparent, transparent, #db2777, #f9a8d4, transparent); }
.badge-animated-wrap.theme-9::before { background: conic-gradient(transparent, transparent, transparent, #f59e0b, #fef08a, transparent); }

/* MÀU NỀN TRONG (CỰC NHẠT) VÀ CHỮ ĐẬM */
/* Tier S (Nền trắng tinh khiết, bóng nội bên trong) */
.tier-s .badge-inner { background: #ffffff; box-shadow: inset 0 0 10px rgba(0,0,0,0.02); }
.theme-0.tier-s .badge-inner { color: #334155; } .theme-1.tier-s .badge-inner { color: #1d4ed8; }
.theme-2.tier-s .badge-inner { color: #047857; } .theme-3.tier-s .badge-inner { color: #c2410c; }
.theme-4.tier-s .badge-inner { color: #be123c; } .theme-5.tier-s .badge-inner { color: #7e22ce; }
.theme-6.tier-s .badge-inner { color: #b45309; } .theme-7.tier-s .badge-inner { color: #0e7490; }
.theme-8.tier-s .badge-inner { color: #be185d; } .theme-9.tier-s .badge-inner { background: #0f172a; color: #fbbf24; } /* Riêng GOD giữ màu tối quyền lực */

/* Tier A, B, C (Nền Gradient Pastel nhạt bừng sáng) */
.theme-0 .badge-inner { background: linear-gradient(to right, #f8fafc, #f1f5f9); color: #475569; }
.theme-1 .badge-inner { background: linear-gradient(to right, #eff6ff, #dbeafe); color: #1e40af; }
.theme-2 .badge-inner { background: linear-gradient(to right, #ecfdf5, #d1fae5); color: #065f46; }
.theme-3 .badge-inner { background: linear-gradient(to right, #fff7ed, #ffedd5); color: #9a3412; }
.theme-4 .badge-inner { background: linear-gradient(to right, #fff1f2, #ffe4e6); color: #9f1239; }
.theme-5 .badge-inner { background: linear-gradient(to right, #faf5ff, #f3e8ff); color: #581c87; }
.theme-6 .badge-inner { background: linear-gradient(to right, #fffbeb, #fef3c7); color: #92400e; }
.theme-7 .badge-inner { background: linear-gradient(to right, #ecfeff, #cffafe); color: #155e75; }
.theme-8 .badge-inner { background: linear-gradient(to right, #fdf2f8, #fbcfe8); color: #9d174d; }

/* ==============================================================
   10. FLOATING ICON (ĐỘI THỤT VÀO TRONG, TRÁNH CẮT TRÊN MOBILE)
   ============================================================== */
.floating-icon {
    position: absolute;
    top: -5px;      
    right: -4px;    
    z-index: 20;
    font-size: 13px;
    transform: rotate(15deg); 
    filter: drop-shadow(0 2px 3px rgba(0,0,0,0.3));
    transition: all 0.3s ease;
    user-select: none;
    animation: icon-catch-light 3.5s linear infinite;
}

.icon-lvl-0 { font-size: 16px; top: -8px; right: -5px; } 
.icon-lvl-9 { font-size: 11px; filter: drop-shadow(0 1px 1px rgba(0,0,0,0.1)); opacity: 0.8; }

@keyframes icon-catch-light {
    0%, 30%, 100% { filter: drop-shadow(0 2px 3px rgba(0,0,0,0.3)) brightness(1); transform: rotate(15deg) scale(1); }
    10%, 16% { filter: drop-shadow(0 0 6px rgba(255, 255, 255, 1)) brightness(1.3); transform: rotate(8deg) scale(1.15); }
}

/* ==============================================================
   11. HIỆU ỨNG CHỮ CHẠY MÀU (ANIMATED TEXT GRADIENT)
   ============================================================== */
.text-gradient-animated {
    background: linear-gradient(-45deg, #9333ea, #4f46e5, #ec4899, #9333ea);
    background-size: 300%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: text-shine 4s linear infinite;
}
@keyframes text-shine { 
    0% { background-position: 0% 50%; } 
    100% { background-position: 100% 50%; } 
}

/* ==============================================================
   12. AVATAR VIỀN LED CHẠY (ĐỔI MÀU THEO TRẠNG THÁI)
   ============================================================== */
.avatar-led-wrap {
    position: relative;
    border-radius: 50%;
    padding: 2.5px; /* Độ dày viền LED của Avatar */
    overflow: hidden;
    z-index: 1;
    display: inline-block;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
}
.avatar-led-wrap::before {
    content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
    animation: spin-slow 3s linear infinite; z-index: -1;
}

/* Các dải màu LED theo trạng thái */
.avatar-led-wrap.led-active::before { background: conic-gradient(transparent, transparent, transparent, #a855f7, #ec4899, transparent); }
.avatar-led-wrap.led-locked::before { background: conic-gradient(transparent, transparent, transparent, #f59e0b, #ea580c, transparent); }
.avatar-led-wrap.led-deleted::before { background: conic-gradient(transparent, transparent, transparent, #ef4444, #be123c, transparent); }

.avatar-led-wrap img {
    position: relative; z-index: 2;
    border: 2px solid #ffffff; 
    background-color: #ffffff;
    border-radius: 50%;
    transition: all 0.3s ease;
}

/* ==============================================================
   13. HIỆU ỨNG NỀN TRẠNG THÁI (SỌC CẢNH BÁO)
   ============================================================== */
/* Nền sọc Vàng Cam cho tài khoản Tạm Khóa */
.row-locked {
    background-image: repeating-linear-gradient(45deg, rgba(245,158,11,0.03), rgba(245,158,11,0.03) 10px, rgba(245,158,11,0.08) 10px, rgba(245,158,11,0.08) 20px) !important;
}
/* Nền sọc Đỏ cho tài khoản Đợi Xóa */
.row-deleted {
    background-image: repeating-linear-gradient(45deg, rgba(239,68,68,0.03), rgba(239,68,68,0.03) 10px, rgba(239,68,68,0.08) 10px, rgba(239,68,68,0.08) 20px) !important;
}

/* ==============================================================
   14. LỖI BẢO MẬT PIN (RUNG LẮC & ĐỎ)
   ============================================================== */
.pin-error {
    border-color: #ef4444 !important; color: #ef4444 !important;
    box-shadow: 0 0 0 4px rgba(239, 68, 68, 0.1) !important;
    animation: shake-pin 0.4s 1;
}
@keyframes shake-pin { 
    0%, 100% {transform: translateX(0);} 
    25%, 75% {transform: translateX(-5px);} 
    50% {transform: translateX(5px);} 
}

/* ==============================================================
   15. HIỆU ỨNG CHỮ CHỨC VỤ CHẠY MÀU THEO TIER
   ============================================================== */
.text-theme-gradient {
    background-size: 200%;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: text-shine 3s linear infinite;
    display: inline-block;
}
.text-theme-0 { background-image: linear-gradient(-45deg, #475569, #94a3b8, #475569); }
.text-theme-1 { background-image: linear-gradient(-45deg, #2563eb, #60a5fa, #2563eb); }
.text-theme-2 { background-image: linear-gradient(-45deg, #059669, #34d399, #059669); }
.text-theme-3 { background-image: linear-gradient(-45deg, #ea580c, #fb923c, #ea580c); }
.text-theme-4 { background-image: linear-gradient(-45deg, #e11d48, #fb7185, #e11d48); }
.text-theme-5 { background-image: linear-gradient(-45deg, #7e22ce, #c084fc, #7e22ce); }
.text-theme-6 { background-image: linear-gradient(-45deg, #d97706, #fcd34d, #d97706); }
.text-theme-7 { background-image: linear-gradient(-45deg, #0891b2, #67e8f9, #0891b2); }
.text-theme-8 { background-image: linear-gradient(-45deg, #db2777, #f9a8d4, #db2777); }
.text-theme-9 { background-image: linear-gradient(-45deg, #f59e0b, #fef08a, #f59e0b); }

/* ==============================================================
   16. HỆ SINH THÁI THÔNG BÁO CHUẨN (MASTER ALERTS)
   ============================================================== */

/* --- TEXT CHẠY MÀU CHO TIÊU ĐỀ MODAL --- */
.title-gradient-purple {
    background: linear-gradient(-45deg, #9333ea, #4f46e5, #ec4899, #9333ea);
    background-size: 300%; -webkit-background-clip: text; -webkit-text-fill-color: transparent; animation: text-shine 4s linear infinite;
}
.title-gradient-red {
    background: linear-gradient(-45deg, #ef4444, #f97316, #e11d48, #ef4444);
    background-size: 300%; -webkit-background-clip: text; -webkit-text-fill-color: transparent; animation: text-shine 4s linear infinite;
}

/* --- MẪU 1: THÀNH CÔNG (VIỀN CẦU VỒNG, NỀN TRẮNG) --- */
.swal-master-success { position: relative !important; border-radius: 1.5rem !important; padding: 0 !important; overflow: hidden !important; background: transparent !important; }
.swal-master-success::before { 
    content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; 
    /* Dải viền Cầu Vồng (Rainbow) rực rỡ xoay vòng */
    background: conic-gradient(#ff0000, #ff7f00, #ffff00, #00ff00, #00ffff, #0000ff, #8b00ff, #ff0000); 
    animation: spin-slow 3s linear infinite; z-index: -2; pointer-events: none; 
}
.swal-master-success::after { 
    content: ''; position: absolute; top: 3px; left: 3px; right: 3px; bottom: 3px; /* Viền dày 3px để thấy rõ cầu vồng */
    background: #ffffff; /* Nền trắng tinh khiết */
    border-radius: calc(1.5rem - 3px); z-index: -1; pointer-events: none; 
}
.swal-master-success > * { position: relative; z-index: 1; }
.swal-master-success .swal2-title { padding-top: 2.5rem !important; margin: 0 !important; }
.swal-master-success .swal2-html-container { padding: 1.5rem 2rem !important; margin: 0 !important; overflow: visible !important; }
.swal-master-success .swal2-actions { padding-bottom: 2.5rem !important; margin-top: 0 !important; }

/* --- MẪU 2: CẢNH BÁO / THẤT BẠI (VIỀN LỬA CAM ĐỎ, NỀN CAM NHẠT) --- */
.swal-master-error { position: relative !important; border-radius: 1.5rem !important; padding: 0 !important; overflow: hidden !important; background: transparent !important; }
.swal-master-error::before { 
    content: ''; position: absolute; top: -50%; left: -50%; width: 200%; height: 200%; 
    /* Dải viền Lửa (Đỏ - Cam - Vàng) */
    background: conic-gradient(#f59e0b, #ea580c, #ef4444, #be123c, #ea580c, #f59e0b); 
    animation: spin-slow 2s linear infinite; z-index: -2; pointer-events: none; 
}
.swal-master-error::after { 
    content: ''; position: absolute; top: 3px; left: 3px; right: 3px; bottom: 3px; 
    background: #fff7ed; /* Nền màu Cam nhạt (Pastel Orange) */
    border-radius: calc(1.5rem - 3px); z-index: -1; pointer-events: none; 
}
.swal-master-error > * { position: relative; z-index: 1; }
.swal-master-error .swal2-title { padding-top: 2.5rem !important; margin: 0 !important; }
.swal-master-error .swal2-html-container { padding: 1.5rem 2rem !important; margin: 0 !important; overflow: visible !important; }
.swal-master-error .swal2-actions { padding-bottom: 2.5rem !important; margin-top: 0 !important; }

/* Vòng xoáy LED quét radar cực đẹp cho Nút bấm */
.spinner-led-btn {
    width: 1.25rem;
    height: 1.25rem;
    border-radius: 50%;
    background: conic-gradient(transparent 10%, rgba(255,255,255,0.3) 70%, #ffffff 100%);
    animation: spin-fast 0.7s linear infinite;
    -webkit-mask: radial-gradient(circle, transparent 40%, black 41%);
    mask: radial-gradient(circle, transparent 40%, black 41%);
    filter: drop-shadow(0 0 4px rgba(255,255,255,1));
}
@keyframes spin-fast { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
